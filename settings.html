---
layout: default
---

<h1>Settings</h1>
<div class="short"><hr /></div>
<h3>
	Welcome! You can customise colours and other settings here. They'll save when you press "Save".
	<br />
	You can revert your changes at any time by pressing "Reset".
</h3>
<h2>Colour Settings</h2>
<div class="short"><hr /></div>
<form id="settings">
	<ul>
		<li><input type="color" id="primary" value="{{ site.primary }}" />Primary Colour</li>
		<li><input type="color" id="secondary" value="{{ site.secondary }}" />Secondary Colour</li>
		<li><input type="color" id="background" value="{{ site.background }}" />Background Colour</li>
		<li><input type="color" id="foreground" value="{{ site.foreground }}" />Foreground Colour</li>
		<li><input type="color" id="highlight" value="{{ site.highlight }}" />Highlight Colour</li>
	</ul>
	<p><small>Note: Some changes may not take effect until saved.</small></p>
	<input type="reset" />
	<input type="submit" value="Save & Update" />
</form>

<h2>Currency Settings</h2>
<div class="short"><hr /></div>
<h3>
	Select currencies to automatically convert:
</h3>
<input type="checkbox" value="None, do not convert currencies." />
<input type="checkbox" value="All" checked />
<input type="checkbox" value="GBP" />
<input type="checkbox" value="USD" />
<input type="checkbox" value="EUR" />
<script>
function setColorHook(element, callback) {
	element.oninput = function(e) {
		callback(e.target.value);
	}
}

let primary = document.getElementById("primary");
let secondary = document.getElementById("secondary");
let background = document.getElementById("background");
let foreground = document.getElementById("foreground");
let highlight = document.getElementById("highlight");

{ let value = localStorage.getItem("primary"); if (value != null) { primary.value = value } }
{ let value = localStorage.getItem("secondary"); if (value != null) { secondary.value = value } }
{ let value = localStorage.getItem("background"); if (value != null) { background.value = value } }
{ let value = localStorage.getItem("foreground"); if (value != null) { foreground.value = value } }
{ let value = localStorage.getItem("highlight"); if (value != null) { highlight.value = value } }

setColorHook(background, setBackground);
setColorHook(foreground, setForeground);

let settings = document.getElementById("settings");
settings.onsubmit = function() {
	localStorage.setItem("primary", primary.value); setPrimary(primary.value);
	localStorage.setItem("secondary", secondary.value); setSecondary(secondary.value);
	localStorage.setItem("background", background.value);
	localStorage.setItem("foreground", foreground.value);
	localStorage.setItem("highlight", highlight.value); setHighlight(highlight.value);
	return false;
};
settings.onreset = function() {
	localStorage.removeItem("primary"); setPrimary("{{ site.primary }}")
	localStorage.removeItem("secondary"); setSecondary("{{ site.secondary }}");
	localStorage.removeItem("background"); setBackground("{{ site.background }}");
	localStorage.removeItem("foreground"); setForeground("{{ site.foreground }}");
	localStorage.removeItem("highlight"); setHighlight("{{ site.highlight }}");
}
</script>
