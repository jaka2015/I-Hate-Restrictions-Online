---
layout: default
---

<h1>Settings</h1>
<div class="short"><hr /></div>
<h3>
	Welcome! You can customise colours and other settings here. They'll save when you press "Save".
	<br />
	You can revert your changes at any time by pressing "Reset".
</h3>
<h2>Colour Settings</h2>
<div class="short"><hr /></div>
<form id="settings">
	<ul>
		<li><input type="color" id="primary" value="{{ site.primary }}" />Primary Colour</li>
		<li><input type="color" id="secondary" value="{{ site.secondary }}" />Secondary Colour</li>
		<li><input type="color" id="background" value="{{ site.background }}" />Background Colour</li>
		<li><input type="color" id="foreground" value="{{ site.foreground }}" />Foreground Colour</li>
		<li><input type="color" id="highlight" value="{{ site.highlight }}" />Highlight Colour</li>
	</ul>
	<input type="reset" />
	<input type="submit" value="Save" />
</form>

<h2>Currency Settings</h2>
<div class="short"><hr /></div>
<h3>
	Currency settings TBD
</h3>
<script>
function setColorHook(element, callback) {
	element.oninput = function(e) {
		callback(e.target.value);
	}
}

let primary = document.getElementById("primary");
let secondary = document.getElementById("secondary");
let background = document.getElementById("background");
let foreground = document.getElementById("foreground");
let highlight = document.getElementById("highlight");

{ let value = localStorage.getItem("primary"); if (value != null) { primary.value = value } }
{ let value = localStorage.getItem("secondary"); if (value != null) { secondary.value = value } }
{ let value = localStorage.getItem("background"); if (value != null) { background.value = value } }
{ let value = localStorage.getItem("foreground"); if (value != null) { foreground.value = value } }
{ let value = localStorage.getItem("highlight"); if (value != null) { highlight.value = value } }

setColorHook(background, function(val) { document.body.style.background = val; });
setColorHook(foreground, function(val) { document.body.style.color = val; });

let settings = document.getElementById("settings");
settings.onsubmit = function() {
	localStorage.setItem("primary", primary.value);
	localStorage.setItem("secondary", secondary.value);
	localStorage.setItem("background", background.value);
	localStorage.setItem("foreground", foreground.value);
	localStorage.setItem("highlight", highlight.value); addCss("a:hover", "color", value);
	return false;
};
settings.onreset = function() {
	localStorage.removeItem("primary");
	localStorage.removeItem("secondary");
	localStorage.removeItem("background"); document.body.style.background = "{{ site.background }}";
	localStorage.removeItem("foreground"); document.body.style.color	  = "{{ site.foreground }}";
	localStorage.removeItem("highlight"); addCss("a:hover", "color", "{{ site.highlight }}");
}
</script>
