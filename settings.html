---
layout: default
---

{{ page.url }}

<form id="settings">
	<ul>
		<li><input type="color" id="primary" value="{{ site.primary }}" />Color 1</li>
		<li><input type="color" id="secondary" value="{{ site.secondary }}" />Color 2</li>
		<li><input type="color" id="background" value="{{ site.background }}" />Color 3</li>
		<li><input type="color" id="foreground" value="{{ site.foreground }}" />Color 4</li>
		<li><input type="color" id="highlight" value="{{ site.highlight }}" />Color 5</li>
	</ul>
	<input type="reset" />
	<input type="submit" />
</form>
<script>
function setColorHook(id, callback) {
	document.getElementById(id).oninput = function(e) {
		callback(e.target.value);
	}
}

{ let value = localStorage.getItem("primary"); if (value != null) { document.getElementById("primary").value = value } }
{ let value = localStorage.getItem("secondary"); if (value != null) { document.getElementById("secondary").value = value } }
{ let value = localStorage.getItem("background"); if (value != null) { document.getElementById("background").value = value } }
{ let value = localStorage.getItem("foreground"); if (value != null) { document.getElementById("foreground").value = value } }
{ let value = localStorage.getItem("highlight"); if (value != null) { document.getElementById("highlight").value = value } }

setColorHook("background", function(val) { document.body.style.background = val; });
setColorHook("foreground", function(val) { document.body.style.color = val; });

let settings = document.getElementById("settings");
settings.onsubmit = function() {
	localStorage.setItem("primary", document.getElementById("primary").value);
	localStorage.setItem("secondary", document.getElementById("secondary").value);
	localStorage.setItem("background", document.getElementById("background").value);
	localStorage.setItem("foreground", document.getElementById("foreground").value);
	localStorage.setItem("highlight", document.getElementById("highlight").value);
	return false;
};
settings.onreset = function() {
	localStorage.removeItem("primary");
	localStorage.removeItem("secondary");
	localStorage.removeItem("background"); document.body.style.background = "{{ site.background }}";
	localStorage.removeItem("foreground"); document.body.style.color	  = "{{ site.foreground }}";
	localStorage.removeItem("highlight");
}
</script>
